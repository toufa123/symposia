!function(i){PPAdvancedMenu=function(e,n){this.node=e,this.menu_wrap=e.find(".pp-advanced-menu-main-wrapper"),this.wrap=e.find(".pp-advanced-menu__container"),this.menu=e.find(".pp-advanced-menu"),this.dropdownMenu=e.find(".pp-advanced-menu__container.pp-advanced-menu--dropdown"),this.menuToggle=e.find(".pp-menu-toggle"),this.settings=e.find(".pp-advanced-menu__container").data("settings"),this.settings&&(this.menuId=this.settings.menu_id,this.menuType=n.menu_type,this.fullWidth=n.full_width,this.menuLayout=n.layout,this.showSubmenuOn=n.show_submenu_on,this.showSubmenuOnClick="click"==this.showSubmenuOn,this.onepage_menu=n.onepage_menu,this.duration=400,this.iconValue=n.submenu_icon.value,this.subIndicatorsContent="",this.iconValue&&(this.subIndicatorsContent=-1<this.iconValue.indexOf("<")?this.iconValue:`<i class="${this.iconValue}"></i>`),this.init())},PPAdvancedMenu.prototype={stretchElement:null,init:function(){this.menu.length&&(jQuery.fn.smartmenus&&(jQuery.SmartMenus.prototype.isCSSOn=function(){return!0},elementorFrontend.config.is_rtl&&(jQuery.fn.smartmenus.defaults.rightToLeftSubMenus=!0)),"horizontal"===this.menuLayout&&"undefined"!=typeof i.fn.smartmenus&&this.menu.smartmenus({subIndicators:""!==this.subIndicatorsContent,subIndicatorsText:this.subIndicatorsContent,subIndicatorsPos:"append",subMenusMaxWidth:"1000px",subMenusMinWidth:"",showOnClick:this.showSubmenuOnClick}),"vertical"===this.menuLayout&&"undefined"!=typeof i.fn.smartmenus&&this.menu.smartmenus({subIndicators:""!==this.subIndicatorsContent,subIndicatorsText:this.subIndicatorsContent,subIndicatorsPos:"append",subMenusMaxWidth:"",subMenusMinWidth:"",mainMenuSubOffsetX:"0px",mainMenuSubOffsetY:"0px",subMenusSubOffsetX:"0px",subMenusSubOffsetY:"0px",showOnClick:this.showSubmenuOnClick}),"default"===this.menuType&&(this.initStretchElement(),this.stretchMenu()),"off-canvas"===this.menuType&&this.initOffCanvas(),"full-screen"===this.menuType&&this.initFullScreen(),this.bindEvents(),i(window).on("load",i.proxy(this.resetDimensions,this)),this.menu.smartmenus("refresh"))},getElementSettings:function(e){return"undefined"!=typeof this.settings[e]&&this.settings[e]},bindEvents:function(){var t=this;this.menu.length&&(this.menuToggle.on("click",i.proxy(this.toggleMenu,this)),"yes"===this.onepage_menu&&this.menu.on("click",'.menu-item > a[href*="#"]',function(e){var n=i(this).attr("href");"#"!==n&&(n=n.split("#")[1],0<i("body").find("#"+n).length&&(e.preventDefault(),i(this).toggleClass("pp-active")),t.closeMenu())}),"default"===this.menuType&&elementorFrontend.addListenerOnce(this.node.data("model-cid"),"resize",i.proxy(this.stretchMenu,this)),this.closeMenuESC())},panelUpdate:function(){var s=this;"undefined"!=typeof elementor&&i("body").hasClass("elementor-editor-active")&&elementor.hooks.addAction("panel/open_editor/widget/pp-advanced-menu",function(e,n,t){e.$el.find('select[data-setting="dropdown"]').on("change",function(){n.attributes.id===s.menuId&&("all"===i(this).val()&&s.node.find(".pp-advanced-menu--main").hide(),"all"!==i(this).val()&&s.node.find(".pp-advanced-menu--main").show())}),n.attributes.id===s.menuId&&"all"===s.settings.breakpoint&&s.toggleMenu()})},initStretchElement:function(){this.stretchElement=new elementorFrontend.modules.StretchElement({element:this.dropdownMenu})},stretchMenu:function(){"stretch"==this.fullWidth?(this.stretchElement.stretch(),this.dropdownMenu.css("top",this.menuToggle.outerHeight())):this.stretchElement.reset()},initOffCanvas:function(){i(".pp-menu-"+this.settings.menu_id).each(function(e,n){i(n).parent().is("body")&&i(n).remove()}),0<this.menu_wrap.find(".pp-menu-off-canvas").length&&(0<i(".pp-offcanvas-container > .pp-menu-"+this.settings.menu_id).length&&i(".pp-offcanvas-container > .pp-menu-"+this.settings.menu_id).remove(),0<i("body > .pp-menu-"+this.settings.menu_id).length&&i("body > .pp-menu-"+this.settings.menu_id).remove(),i("body").prepend(this.node.find(".pp-menu-"+this.settings.menu_id))),i(".pp-menu-clear").fadeOut(400,function(){i(this).remove()}),i(".pp-menu-"+this.settings.menu_id).css("height",window.innerHeight+150+"px"),i(".pp-menu-"+this.settings.menu_id).find(".pp-menu-close").on("click",i.proxy(this.closeMenu,this))},initFullScreen:function(){i("body").addClass("pp-menu--full-screen"),i(".pp-menu-"+this.settings.menu_id).css("height",window.innerHeight+150+"px"),i(".pp-menu-"+this.settings.menu_id).find(".pp-menu-close").on("click",i.proxy(this.closeMenu,this))},resetDimensions:function(){"full-screen"===this.menuType&&i(".pp-menu-"+this.settings.menu_id).css("height",window.innerHeight+150+"px")},toggleMenu:function(){this.menuToggle.toggleClass("pp-active");var e,n=this.menuType,t=this.menuToggle.hasClass("pp-active");i("html").removeClass("pp-menu-toggle-open"),t&&i("html").addClass("pp-menu-toggle-open"),"default"===n&&(e=this.dropdownMenu,t?(e.hide().slideDown(250,function(){e.css("display","")}),this.stretchMenu()):e.show().slideUp(250,function(){e.css("display","")})),"off-canvas"===n&&this.toggleOffCanvas(),"full-screen"===n&&this.toggleFullScreen()},toggleOffCanvas:function(){var e=this.menuToggle.hasClass("pp-active"),n=i("body").find(".pp-menu-"+this.menuId),t=this.duration,s=this;i("html").removeClass("pp-menu-toggle-open"),t=e?(i("body").addClass("pp-menu--off-canvas"),i("html").addClass("pp-menu-toggle-open"),0):this.duration,i(".pp-menu-open").removeClass("pp-menu-open"),i(".pp-advanced-menu--toggle .pp-menu-toggle").not(this.menuToggle).removeClass("pp-active"),setTimeout(function(){i(".pp-menu-off-canvas").removeAttr("style"),e?(i("body").addClass("pp-menu-open"),n.addClass("pp-menu-open").css("z-index","999999"),0===i(".pp-menu-clear").length&&i("body").append('<div class="pp-menu-clear" style="transition: none !important;"></div>'),i(".pp-menu-clear").off("click").on("click",i.proxy(s.closeMenu,s)),i(".pp-menu-clear").fadeIn()):(i(".pp-menu-open").removeClass("pp-menu-open"),i("body").removeClass("pp-menu--off-canvas"),i("html").removeClass("pp-menu-toggle-open"),i(".pp-menu-clear").fadeOut())},t)},toggleFullScreen:function(){var e=this.menuToggle.hasClass("pp-active");i("body").find(".pp-menu-"+this.menuId);i("html").removeClass("pp-menu-toggle-open"),e&&(i("html").addClass("pp-menu-toggle-open"),this.node.find(".pp-menu-full-screen").addClass("pp-menu-open"))},closeMenu:function(){var e;"default"!==this.menuType&&(i(".pp-menu-open").removeClass("pp-menu-open"),this.menuToggle.removeClass("pp-active"),i("html").removeClass("pp-menu-toggle-open"),"full-screen"===this.menuType&&(e=this.node.find(".pp-menu-full-screen").data("scroll"),i(window).scrollTop(e)),i(".pp-menu-clear").fadeOut())},closeMenuESC:function(){var n=this;i(document).on("keydown",function(e){27===e.keyCode&&n.closeMenu()})}}}(jQuery);