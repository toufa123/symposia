!function(e){PPOffcanvasContent=function(t){this.node=t,this.wrap=t.find(".pp-offcanvas-content-wrap"),this.cart_wrap=t.find(".pp-offcanvas-cart-container"),this.content=t.find(".pp-offcanvas-content"),this.button=t.find(".pp-offcanvas-toggle"),this.settings=this.wrap.data("settings"),this.toggle_source=this.settings.toggle_source,this.id=this.settings.content_id,this.toggle_id=this.settings.toggle_id,this.toggle_class=this.settings.toggle_class,this.transition=this.settings.transition,this.esc_close=this.settings.esc_close,this.body_click_close=this.settings.body_click_close,this.links_click_close=this.settings.links_click_close,this.direction=this.settings.direction,this.buttons_position=this.settings.buttons_position,this.open_panel_add_to_cart=this.settings.open_panel_add_to_cart,this.add_to_cart_button=e(".add_to_cart_button, .single_add_to_cart_button"),this.duration=500,this.destroy(),this.init()},PPOffcanvasContent.prototype={id:"",node:"",wrap:"",content:"",button:"",settings:{},transition:"",duration:400,initialized:!1,animations:["slide","slide-along","reveal","push"],init:function(){var t;this.wrap.length&&(e("html").addClass("pp-offcanvas-content-widget"),0===e(".pp-offcanvas-container").length&&((t=0<e("#font-awesome-pro-js").length&&e("#font-awesome-pro-js").attr("src"))&&e("#font-awesome-pro-js").remove(),e("body").wrapInner('<div class="pp-offcanvas-container" />'),this.content.insertBefore(".pp-offcanvas-container"),t&&e("body").append('<script type="text/javascript" id="font-awesome-pro-js" src="'+t+'"><\/script>')),0<this.wrap.find(".pp-offcanvas-content").length&&(0<e(".pp-offcanvas-container > .pp-offcanvas-content-"+this.id).length&&e(".pp-offcanvas-container > .pp-offcanvas-content-"+this.id).remove(),0<e("body > .pp-offcanvas-content-"+this.id).length&&e("body > .pp-offcanvas-content-"+this.id).remove(),e("body").prepend(this.wrap.find(".pp-offcanvas-content"))),this.bindEvents())},destroy:function(){this.close(),this.animations.forEach(function(t){e("html").hasClass("pp-offcanvas-content-"+t)&&e("html").removeClass("pp-offcanvas-content-"+t)}),e("body > .pp-offcanvas-content-"+this.id).length},setTrigger:function(){return"element-id"==this.toggle_source&&""!=this.toggle_id?e("#"+this.toggle_id):"element-class"==this.toggle_source&&""!=this.toggle_class?e("."+this.toggle_class):this.node.find(".pp-offcanvas-toggle")},bindEvents:function(){var s=this;$trigger=this.setTrigger(),$trigger&&$trigger.on("click",e.proxy(this.toggleContent,this)),"yes"===this.open_panel_add_to_cart&&this.add_to_cart_button.on("click",function(t){setTimeout(function(){s.toggleContent(t)},1e3)}),e("body").delegate(".pp-offcanvas-content .pp-offcanvas-close","click",e.proxy(this.close,this)),"yes"===this.links_click_close&&e("body").delegate(".pp-offcanvas-content .pp-offcanvas-body a","click",e.proxy(this.close,this)),"yes"===this.esc_close&&this.closeESC(),"yes"===this.body_click_close&&this.closeClick(),e(window).resize(e.proxy(this._resize,this))},toggleContent:function(t){t.preventDefault(),e("html").hasClass("pp-offcanvas-content-open")?this.close():this.show(),this._resize()},show:function(){e(".pp-offcanvas-content-"+this.id).addClass("pp-offcanvas-content-visible"),e("html").addClass("pp-offcanvas-content-"+this.transition),e("html").addClass("pp-offcanvas-content-"+this.direction),e("html").addClass("pp-offcanvas-content-open"),e("html").addClass("pp-offcanvas-content-"+this.id+"-open"),e("html").addClass("pp-offcanvas-content-reset"),this.button.addClass("pp-is-active"),this._resize()},close:function(){e("html").removeClass("pp-offcanvas-content-open"),e("html").removeClass("pp-offcanvas-content-"+this.id+"-open"),setTimeout(e.proxy(function(){e("html").removeClass("pp-offcanvas-content-reset"),e("html").removeClass("pp-offcanvas-content-"+this.transition),e("html").removeClass("pp-offcanvas-content-"+this.direction),e(".pp-offcanvas-content-"+this.id).removeClass("pp-offcanvas-content-visible")},this),500),this.button.removeClass("pp-is-active")},closeESC:function(){var s=this;""!==s.settings.esc_close&&e(document).on("keydown",function(t){27===t.keyCode&&s.close()})},closeClick:function(){var s=this;$trigger="element-id"==this.toggle_source&&""!=this.toggle_id?"#"+this.toggle_id:"element-class"==this.toggle_source&&""!=this.toggle_class?"."+this.toggle_class:".pp-offcanvas-toggle",e(document).on("click",function(t){e(t.target).is(".pp-offcanvas-content")||0<e(t.target).parents(".pp-offcanvas-content").length||e(t.target).is(".pp-offcanvas-toggle")||0<e(t.target).parents(".pp-offcanvas-toggle").length||e(t.target).is($trigger)||0<e(t.target).parents($trigger).length||!e(t.target).is(".pp-offcanvas-container")||s.close()})},_resize:function(){var t,s;!this.cart_wrap.length||(t=e(".pp-offcanvas-content-"+this.id))&&0<t.length&&("bottom"===this.buttons_position?(s=+(s=window.innerHeight),t.find(".pp-offcanvas-inner").css({height:s+"px",top:0}),headerHeight=t.find(".pp-offcanvas-cart-header").outerHeight(!0),wrapHeight=t.find(".pp-offcanvas-wrap").outerHeight(),cartTotalHeight=t.find(".woocommerce-mini-cart__total").outerHeight(),cartButtonsHeight=t.find(".woocommerce-mini-cart__buttons").outerHeight(),cartMessageHeight=t.find(".pp-woo-menu-cart-message").outerHeight(),undefined===cartMessageHeight&&(cartMessageHeight=0),itemsHeight=s-(headerHeight+cartTotalHeight+cartButtonsHeight+cartMessageHeight),finalItemsHeight=itemsHeight-(s-wrapHeight),finalItemsHeight+="px"):finalItemsHeight="auto",s='<style id="pp-woo-style-'+this.id+'">',s+="#"+t.attr("id")+" .woocommerce-mini-cart.cart_list {",s+="height: "+finalItemsHeight,s+="}",s+="</style>",0<e("#pp-woo-style-"+this.id).length&&e("#pp-woo-style-"+this.id).remove(),e("head").append(s))}}}(jQuery);