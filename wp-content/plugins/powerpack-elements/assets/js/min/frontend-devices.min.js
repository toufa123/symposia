!function(s){"use strict";var q=!1,S=function(e){var a=s("<iframe/>"),p=e.data("src");0==e.find("iframe").length&&(a.attr("src",p),a.attr("frameborder","0"),a.attr("allowfullscreen","1"),a.attr("allow","autoplay;encrypted-media;"),e.html(a))},e=function(s,p){s.find(".pp-device-container").eq(0);var a,n,o,e=(o={},y=(b=s).data("model-cid"),q&&y?(a=elementorFrontend.config.elements.data[y],n=elementorFrontend.config.elements.keys[a.attributes.widgetType||a.attributes.elType],jQuery.each(a.getActiveControls(),function(e){-1!==n.indexOf(e)&&(o[e]=a.attributes[e])})):o=b.data("settings")||{},o),t=s.find(".pp-video").eq(0),r=s.find(".pp-video-player-source"),l=r.get(0),i=s.find(".pp-device-screen"),d=s.find(".pp-player-controls-play"),c=s.find(".pp-player-controls-rewind"),u=(s.find(".pp-video-player-controls"),s.find(".pp-player-controls-bar"),s.find(".pp-player-controls-fs")),f=e.video_source,m=e.restart_on_pause,y=e.stop_others,v=e.autoplay,C=e.playback_speed,h=e.end_at_last_frame,b=e.video_show_buttons,e=(t.data("settings"),s.find(".pp-video-play")),t=s.find(".pp-device-orientation .fas.fa-mobile");e.off("click").on("click",function(e){e.preventDefault();e=p(this).find(".pp-video-player");S(e)}),"1"==e.data("autoplay")&&S(s.find(".pp-video-player"));e="";"show"!==b&&(e=s.find(".pp-device-screen")),t.click(function(e){p(this).hasClass("pp-mobile-icon-portrait")?(s.find(".pp-device-container").removeClass("pp-device-orientation-portrait"),s.find(".pp-device-container").addClass("pp-device-orientation-landscape"),p(this).removeClass("pp-mobile-icon-portrait"),p(this).addClass("pp-mobile-icon-landscape")):p(this).hasClass("pp-mobile-icon-landscape")&&(s.find(".pp-device-container").removeClass("pp-device-orientation-landscape"),s.find(".pp-device-container").addClass("pp-device-orientation-portrait"),p(this).addClass("pp-mobile-icon-portrait"),p(this).removeClass("pp-mobile-icon-landscape"))}),"yes"===m&&(m=!0),"yes"===y&&p("video").on("play",function(){p("video").not(this).each(function(e,a){plybtn=p(a).parent().find(".pp-player-controls-play"),plybtn.removeClass("fa-pause"),plybtn.addClass("fa-play"),a.pause()})}),r.on("loadedmetadata",function(){"yes"===v&&d.first().trigger("click"),l.playbackRate=C.size;var e=new Date(null);e.setSeconds(l.duration);e=e.toISOString().substr(11,8);s.find(".pp-player-controls-duration").text(e)}),r.on("timeupdate",function(){var e=100*l.currentTime/l.duration;s.find(".pp-player-control-progress-track.pp-player-control-progress-inner").css("width",e+"%");e=new Date(null);e.setSeconds(l.currentTime);e=e.toISOString().substr(11,8);s.find(".pp-player-controls-time").text(e),l.currentTime===l.duration&&(i.removeClass("pp-paused"),i.removeClass("pp-playing"),d.removeClass("fa-pause"),d.addClass("fa-play"),s.find(".pp-player-controls-time").text("00:00"),s.find(".pp-player-control-progress-track.pp-player-control-progress-inner").css("width","0%"),s.find(".pp-video-overlay").css("opacity",""),F=!1)}),r.on("play",function(){s.find(".pp-video-overlay").css("opacity","0")}),r.on("pause",function(){s.find(".pp-player-controls-rewind.pp-video-button").show(),s.find(".pp-video-overlay").css("opacity","")}),s.find(".pp-player-controls-volume-icon").click(function(){return p(this).hasClass("fa-volume-up")?(p(this).removeClass("fa-volume-up"),p(this).addClass("fa-volume-mute")):p(this).hasClass("fa-volume-mute")&&(p(this).removeClass("fa-volume-mute"),p(this).addClass("fa-volume-up")),l.muted=!l.muted,!1});var g=!1;s.find(".pp-player-controls-volume-bar").mousedown(function(e){g=!0,w(e.pageX)}),s.find(".pp-player-controls-volume-bar").mouseup(function(e){g&&(g=!1,w(e.pageX))}),s.find(".pp-player-controls-volume-bar").mousemove(function(e){g&&w(e.pageX)});var w=function(e){var a=s.find(".pp-player-controls-volume-bar"),e=(e-a.offset().left)/a.width(),a=100*e;1<e&&(e=1,a=100),e<0&&(a=e=0),l.volume=e,s.find(".pp-player-controls-volume-bar-amount.pp-player-control-progress-inner").css("width",a+"%")};c.on("click",function(){return l.currentTime=0,!1}),u.on("click",function(){l.requestFullscreen?l.requestFullscreen():l.webkitRequestFullscreen?l.webkitRequestFullscreen():l.webkitEnterFullscreen?l.webkitEnterFullscreen():l.mozRequestFullScreen?l.mozRequestFullScreen():l.msRequestFullscreen?l.msRequestFullscreen():alert("Your browser doesn't support fullscreen")});var k=!1;s.find(".pp-player-controls-progress").mousedown(function(e){k=!0,_(e.pageX)}),s.find(".pp-player-controls-progress").mouseup(function(e){k&&(k=!1,_(e.pageX))}),s.find(".pp-player-controls-progress").mousemove(function(e){k&&_(e.pageX)});var F,_=function(e){var a=s.find(".pp-player-controls-progress"),p=l.duration,a=100*(e-a.offset().left)/a.width();l.currentTime=p*(a=(a=100<a?100:a)<0?0:a)/100,s.find(".pp-player-controls-progress-time.pp-player-control-progress-inner").css("width",a+"%"),"yes"===h&&"yes"!==loop&&100===a&&(plybtn=s.find(" .pp-player-controls-play"),plybtn.removeClass("fa-pause"),plybtn.addClass("fa-play"))};"hosted"==f&&(d.on("click",function(e){return p(this).hasClass("pp-play")?(l.play(),d.removeClass("pp-play fa-play"),d.addClass("pp-pause fa-pause"),i.removeClass("pp-paused"),i.addClass("pp-playing")):p(this).hasClass("pp-pause")&&(l.pause(),d.removeClass("pp-pause fa-pause"),d.addClass("fa-play pp-play"),i.removeClass("pp-playing"),i.addClass("pp-paused"),m&&(l.currentTime=0)),!1}),"show"!==b&&(F=!1,e.on("click",function(e){if(p(this).hasClass("pp-device-screen-video")){if(!F)return l.play(),i.removeClass("pp-paused"),i.addClass("pp-playing"),d.removeClass("fa-play"),d.addClass("fa-pause"),void(F=!0);F&&(l.pause(),i.removeClass("pp-playing"),i.addClass("pp-paused"),d.removeClass("fa-pause"),d.addClass("fa-play"),F=!1)}})))};s(window).on("elementor/frontend/init",function(){elementorFrontend.isEditMode()&&(q=!0),elementorFrontend.hooks.addAction("frontend/element_ready/pp-devices.default",e)})}(jQuery);