!function(n,t,e,i){"use strict";var o=function(){var n;return""==(n=(n=e.body||e.documentElement).style).WebkitTransition?"-webkit-":""==n.MozTransition?"-moz-":""==n.OTransition?"-o-":""==n.transition&&""},r=!1!==o(),a=function(n,t,e){var i={},r=o();i[r+"transform"]="translateX("+t+")",i[r+"transition"]=r+"transform "+e+"s linear",n.css(i)},u="ontouchstart"in t,c=t.navigator.pointerEnabled||t.navigator.msPointerEnabled,f=function(n){if(u)return!0;if(!c||void 0===n||void 0===n.pointerType)return!1;if(void 0!==n.MSPOINTER_TYPE_MOUSE){if(n.MSPOINTER_TYPE_MOUSE!=n.pointerType)return!0}else if("mouse"!=n.pointerType)return!0;return!1};n.fn.imageLightbox=function(i,o){o=n.extend({selector:'id="imagelightbox"',allowedTypes:"png|jpg|jpeg|gif",animationSpeed:250,preloadNext:!0,enableKeyboard:!0,quitOnEnd:!1,quitOnImgClick:!1,quitOnDocClick:!0,onStart:!1,onEnd:!1,onLoadStart:!1,onLoadEnd:!1},o);var l=n([]),d=n(),p=n(),g=0,h=0,s=0,m=!1,v=function(){var t=-1;return n(l).each(function(n,e){if(e.href==d[0].href)return t=n,!1}),t},E=function(){if(!p.length)return!0;var e=.8*n(t).width(),i=.9*n(t).height(),o=new Image;o.src=p.attr("src"),o.onload=function(){if(g=o.width,h=o.height,g>e||h>i){var r=g/h>e/i?g/e:h/i;g/=r,h/=r}p.css({width:g+"px",height:h+"px",top:(n(t).height()-h)/2+"px",left:(n(t).width()-g)/2+"px"})}},x=function(t){if(m)return!1;if(t=void 0!==t&&("left"==t?1:-1),p.length){if(!1!==t&&(l.length<2||!0===o.quitOnEnd&&(-1===t&&0==l.index(d)||1===t&&l.index(d)==l.length-1)))return y(),!1;var e={opacity:0};r?a(p,100*t-s+"px",o.animationSpeed/1e3):e.left=parseInt(p.css("left"))+100*t+"px",p.animate(e,o.animationSpeed,function(){S()}),s=0}m=!0,!1!==o.onLoadStart&&o.onLoadStart(),setTimeout(function(){p=n("<img "+o.selector+" />").attr("src",d.attr("href")).on("load",function(){p.appendTo("body"),E();var e={opacity:1};if(p.css("opacity",0),r)a(p,-100*t+"px",0),setTimeout(function(){a(p,"0px",o.animationSpeed/1e3)},50);else{var i=parseInt(p.css("left"));e.left=i+"px",p.css("left",i-100*t+"px")}if(p.animate(e,o.animationSpeed,function(){m=!1,!1!==o.onLoadEnd&&o.onLoadEnd()}),o.preloadNext){var u=l.eq(v()+1);u.length||(u=l.eq(0)),n("<img />").attr("src",u.attr("href")).trigger("load")}}).on("error",function(){!1!==o.onLoadEnd&&o.onLoadEnd()});var e=0,i=0,u=0;p.on(c?"pointerup MSPointerUp":"click",function(n){if(n.preventDefault(),o.quitOnImgClick)return y(),!1;if(f(n.originalEvent))return!0;var t=(n.pageX||n.originalEvent.pageX)-n.target.offsetLeft;(d=l.eq(v()-(g/2>t?1:-1))).length||(d=l.eq(g/2>t?l.length:0)),x(g/2>t?"left":"right")}).on("touchstart pointerdown MSPointerDown",function(n){if(!f(n.originalEvent)||o.quitOnImgClick)return!0;r&&(u=parseInt(p.css("left"))),e=n.originalEvent.pageX||n.originalEvent.touches[0].pageX}).on("touchmove pointermove MSPointerMove",function(n){if(!c&&"pointermove"==n.type||!f(n.originalEvent)||o.quitOnImgClick)return!0;n.preventDefault(),i=n.originalEvent.pageX||n.originalEvent.touches[0].pageX,s=e-i,r?a(p,-s+"px",0):p.css("left",u-s+"px")}).on("touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel",function(n){if(!f(n.originalEvent)||o.quitOnImgClick)return!0;Math.abs(s)>50?((d=l.eq(v()-(s<0?1:-1))).length||(d=l.eq(s<0?l.length:0)),x(s>0?"right":"left")):r?a(p,"0px",o.animationSpeed/1e3):p.animate({left:u+"px"},o.animationSpeed/2)})},o.animationSpeed+100)},S=function(){if(!p.length)return!1;p.remove(),p=n()},y=function(){if(!p.length)return!1;p.animate({opacity:0},o.animationSpeed,function(){S(),m=!1,!1!==o.onEnd&&o.onEnd()})};return n(t).on("resize",E),o.quitOnDocClick&&n(e).on(u?"touchend":"click",function(t){p.length&&!n(t.target).is(p)&&y()}),o.enableKeyboard&&n(e).on("keyup",function(n){if(!p.length)return!0;n.preventDefault(),27==n.keyCode&&y(),37!=n.keyCode&&39!=n.keyCode||((d=l.eq(v()-(37==n.keyCode?1:-1))).length||(d=l.eq(37==n.keyCode?l.length:0)),x(37==n.keyCode?"left":"right"))}),n(e).on("click",i,function(t){if(t.preventDefault(),m)return!1;m=!1,!1!==o.onStart&&o.onStart(),d=n(this),x()}),this.each(function(){l=l.add(n(this))}),this.switchImageLightbox=function(n){var t=l.eq(n);if(t.length){var e=l.index(d);d=t,x(n<e?"left":"right")}return this},this.quitImageLightbox=function(){return y(),this},this.addToImageLightbox=function(t){!function(t){t.each(function(){l=l.add(n(this))})}(t)},this}}(jQuery,window,document);

jQuery(document).ready(function(a){window.imageLightboxCaptionOn=function(){var c=a('a[href="'+a("#imagelightbox").attr("src")+'"]').data("title");void 0!=c&&c.length>0&&a('<div id="imagelightbox-caption">'+c+"</div>").appendTo("body")},window.imageLightboxCaptionOff=function(){a("#imagelightbox-caption").remove()},window.imageLightboxArrowsOn=function(c,d){var e=a('<button type="button" class="imagelightbox-arrow imagelightbox-arrow-left"></button><button type="button" class="imagelightbox-arrow imagelightbox-arrow-right"></button>');e.appendTo("body"),e.on("click touchend",function(b){b.preventDefault();var e=a(this),f=a(d+'[href="'+a("#imagelightbox").attr("src")+'"]'),g=f.index(d);return e.hasClass("imagelightbox-arrow-left")?(g-=1,a(d).eq(g).length||(g=a(d).length)):(g+=1,a(d).eq(g).length||(g=0)),c.switchImageLightbox(g),!1})},window.imageLightboxArrowsOff=function(){a(".imagelightbox-arrow").remove()},window.imageLightboxCloseButtonOn=function(c){a('<button type="button" id="imagelightbox-close" title="Close"></button>').appendTo("body").on("click touchend",function(){return a(this).remove(),c.quitImageLightbox(),!1})},window.imageLightboxCloseButtonOff=function(){a("#imagelightbox-close").remove()},window.imageLightboxLoadingOn=function(){a('<div id="imagelightbox-loading"><div></div></div>').appendTo("body")}});
